<div class="resources-container">
  <div class="resources-header">
    <h1 class="resources-title">Recursos</h1>
    <p class="resources-description">Encuentra recursos para aprender a programar, diseñar, marketing, etc.</p>

    <div class="filter-form">
      <%= form_with url: recursos_path, method: :get, local: true do |f| %>
        <%= f.collection_select :category_id, Category.all, :id, :name, prompt: "Filtrar por categoría" %>
        <%= f.submit "Filtrar", class: "btn btn-primary" %>
      <% end %>
    </div>
  </div>

  <div class="tabs">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" role="tab" aria-controls="all" aria-selected="true">Todos</a>
      </li>
      <% @categories.each do |category| %>
        <li class="nav-item">
          <a class="nav-link" id="<%= category.name.downcase %>-tab" data-bs-toggle="tab" data-bs-target="#<%= category.name.downcase %>" role="tab" aria-controls="<%= category.name.downcase %>" aria-selected="false"><%= category.name %></a>
        </li>
      <% end %>
    </ul>

    <!-- Contenido de los recursos -->
    <div class="tab-content">
      <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
        <%= render 'recursos', resources: @recursos %> <!-- Muestra todos los recursos -->
      </div>
      <% @categories.each do |category| %>
        <div class="tab-pane fade" id="<%= category.name.downcase %>" role="tabpanel" aria-labelledby="<%= category.name.downcase %>-tab">
          <%= render 'recursos', resources: @recursos.where(category_id: category.id) %> <!-- Filtra recursos por categoría -->
        </div>
      <% end %>
    </div>
  </div>
</div>
